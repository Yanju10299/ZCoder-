<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload_Questions</title>
    <link rel="icon" href="./ZcoderLogo.jpg" type="jpg" id="logo" />
    <link rel="stylesheet" href="Question_Upload.css" />
  </head>
  <body>
    <form
      action="https://localhost:8000/users/upload_question"
      method="post"
      id="uploadquestion"
    >
      <div class="container">
        <div id="header">
          <img
            id="watermark1" src="./ZcoderLogo.jpg" alt="logo" width="200px" height="200px" />
          <h1 id="heading1">Z-CODER</h1>
          <img
            id="watermark2"
            src="./ZcoderLogo.jpg"
            alt="logo"
            width="200px"
            height="200px"
          />
        </div>
        <div id="box">
          <span id="content1">
            <label for="questiontitle">Title: </label>
            <input type="text" id="questiontitle" name="questiontitle" />

            <label for="questiontopic">Topic: </label>
            <select name="questiontopic" id="questiontopic">
              <option value="arrays">Arrays</option>
              <option value="string">String</option>
              <option value="hashing">Hashing</option>
              <option value="queue">Queue</option>
              <option value="stack">Stack</option>
              <option value="heaps">Heaps</option>
              <option value="linked list">Linked List</option>
              <option value="binary trees">Binary Trees</option>
              <option value="graph">Graph</option>
              <option value="dynamic programming">Dynamic Programming</option>
              <option value="greedy algorithm">Greedy Algorithm</option>
              <option value="sorting algorithm">Sorting Algorithm</option>
            </select>

            <label for="techniques">Problem-Solving Techniques: </label>
            <select name="techniques" id="techniques">
              <option value="recursion">Recursion</option>
              <option value="iterative approach">Iterative Approach</option>
              <option value="memoization and tabulation">
                Memoization and Tabulation
              </option>
              <option value="two pointer technique">
                Two Pointer Technique
              </option>
              <option value="sliding window technique">
                Sliding Window Technique
              </option>
              <option value="binary search on answer">
                Binary Search on Answer
              </option>
            </select>

            <label for="level"> Level: </label>
            <select name="level" id="level">
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select> </span
          ><br /><br />

          <div id="content">
            <span class="question">
              <!-- <label for="questionstatement" > Question Statement: </label>-->
              <textarea
                name="question"
                id="question"
                placeholder="Question Statement here"
                rows="20"
                cols="60"
              ></textarea>
            </span>

            <span class="answer">
              <!--<label for="answer" > Solution: </label>-->
              <textarea
                name="answer"
                id="answer"
                placeholder="solution here"
                rows="20"
                cols="65"
              ></textarea></span
            ><br />
          </div>
          <br />

          <input type="checkbox" id="public" name="public" value="true" />
          <label for="public" id="public"> Public </label>

          <input type="submit" value="Upload" id="submit" /><br />
        </div>
      </div>
    </form>
    <script>
      document
        .getElementById("uploadquestion")
        .addEventListener("submit", async function (event) {
          event.preventDefault();

          const QuestionData = new FormData(this);
          const data = Object.fromEntries(QuestionData.entries());

          const response = await fetch(
            "https://localhost:8000/users/upload_question",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
                
              },
              body: JSON.stringify(data),
              credentials:"include",
            }
          );
          if(response.ok)
          {
             alert("Question is successfully uploaded");
             window.location.href="./Question_Upload.html";
          }
        });
    </script>
  </body>
</html>